import './FormField.scss';
import React, { PropTypes } from 'react';

const propTypes = {
  autoComplete: PropTypes.bool,
  className: PropTypes.string,
  // Contains data from redux-form, such as values
  input: PropTypes.object,
  // E.g. 'input' or 'textArea'
  element: PropTypes.string,
  // Text above input field
  label: PropTypes.string,
  // Generated by Redux-form. Contains value and error data.
  meta: PropTypes.object,
  // Unique identifier
  id: PropTypes.string,
  placeholder: PropTypes.string,
  // Number of rows for textAreas
  rows: PropTypes.number,
  // HTML input type, e.g. 'email'
  type: PropTypes.string,
};

const FormField = ({
  autoComplete,
  className,
  rows,
  placeholder,
  input,
  element,
  label,
  type,
  id,
  meta: {
    touched,
    error,
    warning,
  },
}) => {
  const Element = element;

  return (
    <div className={`Field ${className}`}>
      {label &&
        <label
          htmlFor={id}
          className="Field__label"
        >
          {label}
        </label>
      }
      <Element
        {...input}
        autoComplete={autoComplete}
        className="Field__input"
        rows={rows}
        id={id}
        placeholder={placeholder}
        type={type}
      />
      {touched && (error || warning) &&
        <div className="Field__messages">
          {((error &&
            <span className="Field__error">
              {error}
            </span>
          ) || (warning &&
            <span className="Field__warning">
              {warning}
            </span>
          ))}
        </div>
      }
    </div>
  );
};

FormField.propTypes = propTypes;

export default FormField;
